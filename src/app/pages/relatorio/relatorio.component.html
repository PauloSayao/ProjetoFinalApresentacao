<div class="dashboard-container">
  <aside class="sidebar">
    <h2>TruffleSite</h2>
    <nav>
      <ul>
        <li><button (click)="ToHome()">Início</button></li>
        <li><button (click)="ToOrder()">Pedidos</button></li>
        <li><button (click)="ToConfiguration()">Configurações</button></li>
        <li><button (click)="ToRelatorio()">Relatório</button></li>
        <li><button (click)="logout()">Logout</button></li>
      </ul>
    </nav>
  </aside>

  <main class="main-content">
    <header>
      <h1>Relatório de Pedidos</h1>
      <p>Veja as informações detalhadas dos pedidos e produtos vendidos.</p>
    </header>

    <section class="pedidos">
      <p><strong>Total de pedidos realizados:</strong> {{ totalPedidos }}</p>

      <table *ngIf="pedidos.length > 0" class="table">
        <thead>
          <tr>
            <th>#</th>
            <th>Cliente</th>
            <th>Telefone</th>
            <th>Pagamento</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let pedido of pedidos; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ pedido.nome }}</td>
            <td>{{ pedido.telefone }}</td>
            <td>{{ pedido.pagamento }}</td>
            <td>R$ {{ pedido.total | number: '1.2-2' }}</td>
          </tr>
        </tbody>
      </table>

      <h2>Produtos Mais Vendidos</h2>

      <table *ngIf="produtosVendidos.length > 0" class="table">
        <thead>
          <tr>
            <th>Produto</th>
            <th>Quantidade Vendida</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let produto of produtosVendidos">
            <td>{{ produto.nome }}</td>
            <td>{{ produto.quantidade }}</td>
          </tr>
        </tbody>
      </table>

      <p *ngIf="produtosVendidos.length === 0">Nenhuma venda registrada.</p>
      <p *ngIf="pedidos.length === 0">Nenhum pedido encontrado.</p>
    </section>
  </main>
</div>
